<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <title>B3 - Form Data Binding</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="shortcut icon" th:href="@{/user/icon/java.png}">

</head>
<body style="margin: 15px 15px 15px 15px">
<h1>Form Data Binding - Validation</h1>
    <div id="bodyPage" class="row">
        <div class="col-3">
        </div>
        <div class="col-6">
            <form id="formBindingData" class="row g-2 needs-validation">

                <label for="inputMSSV" class="form-label">MSSV</label>
                <input type="text" id="inputMSSV" class="form-control" aria-describedby="" required>

                <label for="inputUserName" class="form-label">Tên Sinh Viên</label>
                <input type="text" id="inputUserName" class="form-control" aria-describedby="">

                <label for="inputEmail" class="form-label">Email address</label>
                <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp">

                <div class="col">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="radioGioiTinh" id="radioNam" checked>
                        <label class="form-check-label" for="radioNam">
                            Nam
                        </label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="radioGioiTinh" id="radioNu">
                        <label class="form-check-label" for="radioNu">
                            Nữ
                        </label>
                    </div>
                </div>

                <label for="inputMajor" class="form-label">Chuyên Ngành</label>
                <select id="inputMajor" class="form-select" aria-label="Default select example">
                    <option selected>...</option>
                    <option value="1">Ứng Dụng Phần Mềm</option>
                    <option value="2">Phát Triển Phần Mềm</option>
                    <option value="3">Lập Trình Mobile</option>
                </select>
            </form>
            <br>
            <button type="button" class="btn btn-primary" onclick="btnSave_lick()">Save</button>
            <button type="button" class="btn btn-info">Verify</button>
            <button type="button" class="btn btn-warning" onclick="btnClear_lick()">Clear</button>
        </div>
        <div class="col-3">
        </div>
        <script>
            function btnSave_lick() {
                verificationForm();
            }

            function  btnClear_lick(){
                data = {
                    MSSV: '',
                    UserName: '',
                    Email: '',
                    Major: ''
                }
                this.btnFillForm(data);
            }

            function validateEmail (email) {
                let regex = new RegExp('[a-z0-9]+@(gmail.com|fpt.edu.vn)');
                return regex.test(email);
            }

            function verificationForm() {
                if($('#inputMSSV').val() == ''){
                    alert("Please Input Value");
                    $('#inputMSSV').focus();
                }else if($('#inputUserName').val() == ''){
                    alert("Please Input Value");
                    $('#inputUserName').focus();
                }else if($('#inputEmail').val() == '' || !validateEmail($('#inputEmail').val())){
                    let message = "Please Input Value";
                    if(!validateEmail($('#inputEmail').val())){
                        message = "Invalid Mail"
                    }
                    alert(message);
                    $('#inputEmail').focus();
                }else if($('#inputMajor').val() == '...'){
                    alert("Please Input Value");
                    $('#inputMajor').focus();
                } else {
                    alert("Xác Thực Dữ Liệu Thành Công")
                };
            }

            function btnFillForm(data){
                $('#inputMSSV').val(data.MSSV);
                $('#inputUserName').val(data.UserName);
                $('#inputEmail').val(data.Email);
                $('#inputMajor').val(data.Major);
            }

        </script>
    </div>
</body>
</html>